{"version":3,"file":"logging.js","sourceRoot":"","sources":["../../src/logging.ts"],"names":[],"mappings":";;;AAAA,wDAAwD;AACxD,SAAS,IAAI,CAAC,CAAsB;IAChC,IAAI,IAAI,GAAQ,IAAI,CAAC;IACrB,IAAI,KAAK,GAAG,CAAC,CAAC;IAEd,MAAM,GAAG,GAAG,CAAC,IAAS,EAAE,EAAE;QACtB,OAAO,CAAC,CAAC,gBAAgB,IAAI,EAAE,CAAC,CAAC;IACrC,CAAC,CAAC;IAEF,OAAO,CAAC,IAAS,EAAE,EAAE;QACjB,IAAI,IAAI,KAAK,IAAI,EAAE;YACf,KAAK,EAAE,CAAC;SACX;aAAM;YACH,IAAI,KAAK,IAAI,IAAI,EAAE;gBACf,GAAG,CAAC,GAAG,IAAI,cAAc,KAAK,SAAS,CAAC,CAAC;gBACzC,KAAK,GAAG,CAAC,CAAC;aACb;YACD,IAAI,GAAG,IAAI,CAAC;YACZ,GAAG,CAAC,IAAI,CAAC,CAAC;SACb;IACL,CAAC,CAAC;AACN,CAAC;AAEY,QAAA,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;AAC5B,QAAA,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;AAC5B,QAAA,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;AAC1B,QAAA,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;AACxB,QAAA,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC","sourcesContent":["/* eslint-disable  @typescript-eslint/no-explicit-any */\nfunction make(f: (data: any) => void) {\n    let last: any = null;\n    let count = 0;\n\n    const log = (data: any) => {\n        return f(`ts-postgres: ${data}`);\n    };\n\n    return (data: any) => {\n        if (data === last) {\n            count++;\n        } else {\n            if (count && last) {\n                log(`${last} (repeated ${count} times)`);\n                count = 0;\n            }\n            last = data;\n            log(data);\n        }\n    };\n}\n\nexport const debug = make(console.debug);\nexport const error = make(console.error);\nexport const info = make(console.info);\nexport const log = make(console.log);\nexport const warn = make(console.warn);\n"]}